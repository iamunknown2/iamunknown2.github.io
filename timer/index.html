<!DOCTYPE HTML>
<html>
	<head>
		<meta name="viewport" content="width=device-width">
		<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
		<style>
				body
				{
					font-family: 'Open Sans', sans-serif;
				}
				button
				{
					font-family: 'Open Sans', sans-serif;
					font-size: 25px;
					height: 125px;
					width: 125px;
					background-color: lightgreen;
					box-shadow: none;
					border-radius: 50%;
					border: none;
					margin: 10px;
				}
				#buttons2
				{
					text-align: center;
				}
				#timer
				{
					font-size: 125px;
					text-align: center;
				}
				#reset2
				{
					background-color: lightblue;
				}
		</style>
		<script>
			// render function is to draw on HTML
			function render2(id, time)
			{
				var milliseconds = time % 100;
				var seconds = ((time - milliseconds) / 100) % 60;
				var minutes = Math.floor(time / 6000);
				if (seconds.toString().length == 1)
				{
					seconds = "0" + seconds;
				}
				document.getElementById(id).innerHTML = minutes + ":" + seconds
			}

			var time2 = 0;
			var stat2 = 0;
			function alarm()
			{
				var alarm = new Audio("../other/alarm.mp3");
				var x = 0;
				function play()
				{
					alarm.play();
					x += 1;
					if (x == 9)
					{
						window.clearInterval(playfour);
					}
				}
				alarm.play();
				var playfour = setInterval(play, 500);
			}

			function timer_helper()
			{
				render2("timer", time2)
				if (stat2 == 1)
				{
					if (time2 == 0)
					{
						alarm();
						stat2 = 0;
						document.getElementById("toggle2").innerHTML = "Start";
						document.getElementById("toggle2").style.background = "lightgreen";
					}
					else
					{
						time2 -= 1;
						document.getElementById("toggle2").innerHTML = "Stop";
						document.getElementById("toggle2").style.background = "crimson";
					}
				}
				else if (stat2 == 2)
				{
					time2 = 0;
					stat2 = 0;
					document.getElementById("toggle2").innerHTML = "Start";
					document.getElementById("toggle2").style.background = "lightgreen";
				}
				else
				{
					document.getElementById("toggle2").innerHTML = "Start";
					document.getElementById("toggle2").style.background = "lightgreen";
				}
			}

			function toggle2()
			{
				if (stat2 == 0 || stat2 == 2)
				{
					stat2 = 1;
				}
				else if (stat2 == 1)
				{
					stat2 = 0;
				}
			}

			function reset2()
			{
				stat2 = 2;
			}

			function add_30_sec()
			{
				stat2 = 0;
				time2 += 3000;
			}

			function reset_sec()
			{
				stat2 = 0;
				time2 = time2 - (time2 % 6000);
			}

			function add_min()
			{
				stat2 = 0;
				time2 += 6000;
			}

			function reset_min()
			{
				stat2 = 0;
				time2 = time2 - (Math.floor(time2 / 6000) * 6000);
			}

			function timer()
			{
				setInterval(timer_helper, 10);
			}
		</script>
	</head>
	<body>
		<div id="timer"></div>
		<div id="buttons2">
			<button id="toggle2" onclick=toggle2()>Start</button>
			<button id="reset2" onclick=reset2()>Reset</button>
			<br>
			<button id="addmin" onclick=add_min()>+min</button>
			<button id="resmin" onclick=reset_min()>0min</button>
			<br>
			<button id="add30sec" onclick=add_30_sec()>+30sec</button>
			<button id="ressec" onclick=reset_sec()>0sec</button>
		</div>
		<script>timer()</script>
	</body>
</html>
